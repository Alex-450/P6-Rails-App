<div class="container p-5 border border-secondary">
<%= form_with(model: activity, local: true) do |form| %>
  <% if activity.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(activity.errors.count, "error") %> prohibited this activity from being saved:</h2>

      <ul>
        <% activity.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
      <%= form.label :name, class: "font-weight-bold" %>
      <%= text_field(:activity, :name, placeholder: "E.g. Afternoon run", class: "form-control") %>
  </div>

    <div class="form-group">
        <%= form.label :activity, class: "font-weight-bold" %>
        <%= select(:activity, "activity_type_id", ActivityType.all.collect {|p| [ p.name, p.id ] }, {}, {:class => "form-control"}) %>
    </div>


  <div class="form-group">
      <%= form.label :date, class: "font-weight-bold" %>
      <%= date_field(:activity, :date, class: "form-control") %>
  </div>

  <div class="form-group">
      <%= form.label :started_at, class: "font-weight-bold" %>
      <%= time_field(:activity, :started_at, class: "form-control") %>
  </div>

  <div class="form-group">
    <%= form.label :ended_at, class: "font-weight-bold" %>
    <%= time_field(:activity, :ended_at, class: "form-control") %>
  </div>
  
  <% if user_signed_in? %> 
  <div class="actions">
    <%= form.submit "Save", class: "btn btn-primary btn-md" %>
  </div>

  <% else %>
  <div class="actions">
    <%= link_to "Please log in to save an activity",  "/users/sign_in", class: "btn btn-primary btn-md" %>
  
    <% end %>
<% end %>
</div>
